# NATS Server Configuration - Node 1

# Server identification
server_name: nats-1
listen: 0.0.0.0:4222

# HTTP monitoring
http: 0.0.0.0:8222

# JetStream configuration
jetstream {
  store_dir: /data/jetstream
  max_memory_store: 1GB
  max_file_store: 10GB
}

# Cluster configuration
cluster {
  name: itsm-cluster
  listen: 0.0.0.0:6222
  
  routes: [
    nats://nats-2:6222
    nats://nats-3:6222
  ]
  
  # Cluster authorization
  authorization {
    timeout: 2
  }
}

# Logging
debug: false
trace: false
logtime: true
log_file: /var/log/nats-server.log

# Limits
max_connections: 1024
max_subscriptions: 0
max_payload: 8MB

# Write deadline
write_deadline: 10s